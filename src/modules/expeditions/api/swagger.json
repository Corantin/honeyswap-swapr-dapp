{
  "swagger": "2.0",
  "host": "0.0.0.0:4000",
  "basePath": "/v1.0",
  "schemes": ["http"],
  "info": {
    "title": "Swapr Expeditions API Documentation",
    "version": "1.0"
  },
  "tags": [],
  "paths": {
    "/expeditions/daily-visits": {
      "get": {
        "summary": "Get daily rewards (fragments) state for an address",
        "operationId": "getExpeditionsDailyvisits",
        "parameters": [
          {
            "type": "string",
            "description": "Ethereum address",
            "name": "address",
            "in": "query",
            "required": true
          }
        ],
        "tags": ["expeditions"],
        "responses": {
          "200": {
            "schema": {
              "$ref": "#/definitions/DailyVisitsResponse"
            },
            "description": "Successful"
          }
        }
      },
      "post": {
        "summary": "Claim all daily fragments available for an address",
        "operationId": "postExpeditionsDailyvisits",
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "schema": {
              "$ref": "#/definitions/DailyVisitsRequest"
            }
          }
        ],
        "tags": ["expeditions"],
        "responses": {
          "200": {
            "schema": {
              "$ref": "#/definitions/DailyVisitsResponse"
            },
            "description": "Successful"
          }
        }
      }
    },
    "/expeditions/weekly-fragments": {
      "get": {
        "summary": "Get weekly rewards (fragments) state for an address",
        "operationId": "getExpeditionsWeeklyfragments",
        "parameters": [
          {
            "type": "string",
            "description": "Ethereum address",
            "name": "address",
            "in": "query",
            "required": true
          },
          {
            "type": "string",
            "name": "week",
            "in": "query",
            "required": false
          }
        ],
        "tags": ["expeditions"],
        "responses": {
          "200": {
            "schema": {
              "$ref": "#/definitions/GetWeeklyFragmentsResponse"
            },
            "description": "Successful"
          }
        }
      }
    },
    "/expeditions/weekly-fragments/claim": {
      "post": {
        "summary": "Claim weekly fragments for an address",
        "operationId": "postExpeditionsWeeklyfragmentsClaim",
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "schema": {
              "$ref": "#/definitions/ClaimWeeklyFragments"
            }
          }
        ],
        "tags": ["expeditions"],
        "responses": {
          "200": {
            "schema": {
              "$ref": "#/definitions/ClaimWeeklyFragmentsResponse"
            },
            "description": "Successful"
          }
        }
      }
    }
  },
  "definitions": {
    "DailyVisitsResponse": {
      "type": "object",
      "properties": {
        "address": {
          "type": "string",
          "description": "Ethereum address"
        },
        "allVisits": {
          "type": "number"
        },
        "lastVisit": {
          "type": "string",
          "format": "date"
        }
      },
      "required": ["address", "allVisits", "lastVisit"]
    },
    "WeeklyFragments": {
      "type": "object",
      "properties": {
        "totalAmountUSD": {
          "type": "number"
        },
        "claimableFragments": {
          "type": "number"
        },
        "claimedFragments": {
          "type": "number"
        }
      },
      "required": ["totalAmountUSD", "claimableFragments", "claimedFragments"]
    },
    "GetWeeklyFragmentsResponse": {
      "type": "object",
      "properties": {
        "liquidityProvision": {
          "$ref": "#/definitions/WeeklyFragments"
        },
        "liquidityStaking": {
          "$ref": "#/definitions/WeeklyFragments"
        }
      },
      "required": ["liquidityProvision", "liquidityStaking"]
    },
    "DailyVisitsRequest": {
      "type": "object",
      "properties": {
        "address": {
          "type": "string",
          "description": "Ethereum address"
        },
        "signature": {
          "type": "string",
          "description": "Return value signer.signMessage()"
        }
      },
      "required": ["address", "signature"]
    },
    "ClaimWeeklyFragments": {
      "type": "object",
      "properties": {
        "address": {
          "type": "string",
          "description": "Ethereum address"
        },
        "signature": {
          "type": "string",
          "description": "Return value signer.signMessage()"
        },
        "type": {
          "type": "string",
          "enum": ["LIQUIDITY_PROVISION", "LIQUIDITY_STAKING"]
        }
      },
      "required": ["address", "signature", "type"]
    },
    "ClaimWeeklyFragmentsResponse": {
      "type": "object",
      "properties": {
        "claimedFragments": {
          "type": "number"
        }
      },
      "required": ["claimedFragments"]
    }
  }
}
